<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>育休プロンプト生成結果</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
<div class="container">

    <!-- ChatGPTへの案内 -->
    <div class="chatgpt-link-box">
        <h2>ChatGPTで育休プランを確認する</h2>
        <p>下に表示されたプロンプトをコピーして、以下のリンクからChatGPTに貼り付けてください。</p>
        <p><a href="https://chat.openai.com/" target="_blank" style="font-weight: bold; color: #00a67e; text-decoration: underline;">ChatGPTを開く（新しいタブ）</a></p>
        <p>※プロンプトはこの画面下部に表示されています。</p>
    </div>

    <!-- ステップ1：生成済みプロンプト -->
    <h1>ChatGPTプロンプト</h1>
    <button type="button" class="btn secondary-btn" onclick="copyToClipboard('promptText1')">このプロンプトをコピー</button>
    <textarea id="promptText1" class="prompt-text" rows="50">{{ prompt | safe }}</textarea>

    <!-- ステップ2：非同期 -->
    <div class="section" style="margin-top: 50px;">
        <h2>ステップ2：選んだプランの詳細を依頼</h2>
        <form id="followupForm">
            <label for="selected_plan">選んだプランを選択してください：</label><br>
            <select name="selected_plan" id="selected_plan" required>
                <option value="">-- プランを選んでください --</option>
                <option value="①">① 私たちの希望を最大限反映した育休取得プラン</option>
                <option value="②">② 給付金・社会保険料の免除等、経済的な面を最大限活用したプラン</option>
                <option value="③">③ 希望を反映しつつ夫と妻の協業体制が強化できるプラン</option>
            </select>
            <button type="submit" class="btn secondary-btn">このプランについて詳しく聞く</button>
        </form>
        <div id="step2-result" style="margin-top: 20px;"></div>
    </div>

    <!-- ステップ3：非同期 -->
    <div class="section" style="margin-top: 60px;">
        <h2>オプション：有給休暇を反映したスケジュールを依頼</h2>
        <form id="carryoverForm">
            <label for="paid_leave_days">翌年に持ち越せない有給休暇の日数（日）：</label>
            <input type="number" name="paid_leave_days" id="paid_leave_days" min="1" required placeholder="例：5">
            <button type="submit" class="copy-btn">プロンプトを生成する</button>
        </form>
        <div id="step3-result" style="margin-top: 20px;"></div>
    </div>

    <!-- ステップ4：非同期 -->
    <div class="section" style="margin-top: 60px;">
        <h2>ステップ4：勤務先人事への相談メールを作成</h2>
        <form id="emailForm">
            <label for="email_target">作成するメール：</label><br>
            <select name="email_target" id="email_target" required>
                <option value="">-- 選択してください --</option>
                <option value="husband">夫が勤務先に送る相談メール</option>
                <option value="wife">妻が勤務先に送る相談メール</option>
            </select>
            <button type="submit" class="copy-btn">メール文を生成する</button>
        </form>
        <div id="step4-result" style="margin-top: 20px;"></div>
    </div>
</div>

<script src="{{ url_for('static', filename='script.js') }}"></script>

</body>
</html>
